<h3 class="mb-5">Leave a comment</h3>
<form [formGroup]="commentForm" class="p-5 bg-light" (ngSubmit)="onSubmit($event)">
    <div class="form-group">
        <label for="name">Name *</label>
        <input type="text" formControlName="name" class="form-control" id="name"
            [ngClass]="{ 'disabled-input': user != null }">
        <div *ngIf="commentForm.controls['name'].invalid && (commentForm.controls['name'].dirty || commentForm.controls['name'].touched)"
            class="text-danger">
            <div *ngIf="commentForm.controls['name']?.errors?.['required']" class="text-danger">
                Name is required.
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="email">Email *</label>
        <input type="email" formControlName="email" class="form-control" id="email"
            [ngClass]="{ 'disabled-input': user != null }">
        <div *ngIf="commentForm.controls['email'].invalid && (commentForm.controls['email'].dirty || commentForm.controls['email'].touched)"
            class="text-danger">
            <div *ngIf="commentForm.controls['email']?.errors?.['required']" class="text-danger">
                Email is required.
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="website">Website</label>
        <input type="url" formControlName="website" class="form-control" id="website">
    </div>
    <div class="form-group">
        <label for="message">Message *</label>
        <textarea name="" formControlName="message" id="message" cols="30" rows="10" class="form-control"></textarea>
        <div *ngIf="commentForm.controls['message'].invalid && (commentForm.controls['message'].dirty || commentForm.controls['message'].touched)"
            class="text-danger">
            <div *ngIf="commentForm.controls['message']?.errors?.['required']" class="text-danger">
                Message is required.
            </div>
        </div>
        <!-- <mat-error>
            <span *ngIf="!commentForm.get('message')?.valid && commentForm.get('message')?.touched">Title is required</span>
        </mat-error> -->

    </div>
    <div class="form-group">
        <button type="submit" role="button" value="Post Comment" class="btn py-3 px-4 btn-primary">Submit</button>
    </div>
</form>

<h2>Notification loaded from the Web API:</h2>
<div *ngIf="notification" class="alert alert-warning" role="alert">
    <span>Notification: {{notification}}</span>
</div>